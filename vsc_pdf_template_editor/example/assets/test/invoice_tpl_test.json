{
  "className": "TplDocument",
  "pageMode": "'none'",
  "variables": [
    {
      "variable": "locale",
      "expression": "'en-US'"
    },
    {
      "variable": "tz",
      "expression": "'America/Chicago'"
    },
    {
      "variable": "defaultTheme",
      "expression": "defaultTheme()"
    },
    {
      "variable": "svgLogoFromUrl",
      "expression": "downloadUtf8String('https://upload.wikimedia.org/wikipedia/commons/4/4f/SVG_Logo.svg')"
    }
  ],
  "children": [
    {
      "className": "TplMultiPage",
      "pageFormat": {
        "format": "'letter'"
      },
      "theme": "newThemeWithFontSize(data.$defaultTheme, 10)",
      "margin": {
        "all": 0
      },
      "maxPages": 200,
      "header": {
        "className": "TplColumn",
        "children": [
          {
            "className": "TplPadding",
            "padding": {
              "left": 20,
              "right": 20,
              "top": 20,
              "bottom": 10
            },
            "child": {
              "className": "TplRow",
              "crossAxisAlignment": "'start'",
              "children": [
                {
                  "className": "TplExpanded",
                  "child": {
                    "className": "TplColumn",
                    "mainAxisSize": "'min'",
                    "mainAxisAlignment": "'start'",
                    "crossAxisAlignment": "'start'",
                    "children": [
                      {
                        "className": "TplSvgImage",
                        "svg": "data.$svgLogoFromUrl",
                        "width": 100,
                        "height": 100
                      }
                    ]
                  }
                },
                {
                  "className": "TplExpanded",
                  "child": {
                    "className": "TplColumn",
                    "mainAxisSize": "'min'",
                    "mainAxisAlignment": "'start'",
                    "crossAxisAlignment": "'end'",
                    "children": [
                      {
                        "className": "TplText",
                        "text": "data.heading",
                        "style": {
                          "fontSize": 30,
                          "fontWeight": "'bold'"
                        }
                      },
                      {
                        "className": "TplText",
                        "text": "data.invoice_summary",
                        "style": {
                          "color": "'#7f7f7f'",
                          "fontSize": 9
                        }
                      },
                      {
                        "className": "TplSizedBox",
                        "height": 10
                      },
                      {
                        "className": "TplText",
                        "text": "data.remit_to.company_name",
                        "style": {
                          "fontWeight": "'bold'"
                        }
                      },
                      {
                        "className": "TplText",
                        "text": "data.remit_to.street_address_1"
                      },
                      {
                        "className": "TplText",
                        "text": "data.remit_to.street_address_2"
                      },
                      {
                        "className": "TplText",
                        "text": "data.remit_to.city + ', ' + data.remit_to.state + ' ' + data.remit_to.postal_code"
                      },
                      {
                        "className": "TplText",
                        "text": "data.remit_to.country"
                      },
                      {
                        "className": "TplSizedBox",
                        "height": 10
                      },
                      {
                        "className": "TplText",
                        "text": "data.remit_to.phone_numbers[0].phone"
                      },
                      {
                        "className": "TplText",
                        "text": "data.remit_to.email"
                      }
                    ]
                  }
                }
              ]
            }
          },
          {
            "className": "TplDivider",
            "color": "'#bbbbbb'"
          }
        ]
      },
      "footer": {
        "className": "TplPadding",
        "padding": {
          "left": 20,
          "right": 20,
          "top": 10,
          "bottom": 20
        },
        "child": {
          "className": "TplCenter",
          "child": {
            "className": "TplText",
            "text": "'Page ' + data.$pageNumberString + ' of ' + data.$pageCountString + ' for invoice #' + data.invoice_number",
            "style": {
              "color": "'#000000'"
            }
          }
        }
      },
      "children": [
        {
          "className": "TplPadding",
          "padding": {
            "left": 20,
            "right": 20,
            "top": 10,
            "bottom": 10
          },
          "child": {
            "className": "TplRow",
            "crossAxisAlignment": "'start'",
            "children": [
              {
                "className": "TplExpanded",
                "child": {
                  "className": "TplColumn",
                  "mainAxisSize": "'min'",
                  "mainAxisAlignment": "'start'",
                  "crossAxisAlignment": "'start'",
                  "children": [
                    {
                      "className": "TplColumn",
                      "mainAxisSize": "'min'",
                      "mainAxisAlignment": "'start'",
                      "crossAxisAlignment": "'start'",
                      "children": [
                        {
                          "className": "TplText",
                          "text": "'Bill To'",
                          "style": {
                            "color": "'#7f7f7f'"
                          }
                        },
                        {
                          "className": "TplText",
                          "text": "data.bill_to.first_name + ' ' + data.bill_to.last_name",
                          "style": {
                            "fontWeight": "'bold'"
                          }
                        },
                        {
                          "className": "TplText",
                          "text": "data.bill_to.street_address_1"
                        },
                        {
                          "className": "TplText",
                          "text": "data.bill_to.street_address_2"
                        },
                        {
                          "className": "TplText",
                          "text": "data.bill_to.city + ', ' + data.bill_to.state + ' ' + data.bill_to.postal_code"
                        },
                        {
                          "className": "TplText",
                          "text": "data.bill_to.country"
                        },
                        {
                          "className": "TplSizedBox",
                          "height": 10
                        },
                        {
                          "className": "TplText",
                          "text": "data.bill_to.phone_numbers[0].phone"
                        },
                        {
                          "className": "TplText",
                          "text": "data.bill_to.email"
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "className": "TplExpanded",
                "child": {
                  "className": "TplTable",
                  "children": [
                    {
                      "children": [
                        {
                          "className": "TplText",
                          "text": "'Invoice Number: '",
                          "style": {
                            "fontWeight": "'bold'"
                          },
                          "textAlign": "'right'"
                        },
                        {
                          "className": "TplText",
                          "text": "data.invoice_number"
                        }
                      ]
                    },
                    {
                      "children": [
                        {
                          "className": "TplSizedBox",
                          "height": 10
                        }
                      ]
                    },
                    {
                      "children": [
                        {
                          "className": "TplText",
                          "text": "'Invoice Date: '",
                          "style": {
                            "fontWeight": "'bold'"
                          },
                          "textAlign": "'right'"
                        },
                        {
                          "className": "TplText",
                          "text": "formatDateTime('yMMMMd', data.invoice_date)"
                        }
                      ]
                    },
                    {
                      "children": [
                        {
                          "className": "TplSizedBox",
                          "height": 10
                        }
                      ]
                    },
                    {
                      "children": [
                        {
                          "className": "TplText",
                          "text": "'Due Date: '",
                          "style": {
                            "fontWeight": "'bold'"
                          },
                          "textAlign": "'right'"
                        },
                        {
                          "className": "TplText",
                          "text": "formatDateTime('yMMMMd', data.due_date)"
                        }
                      ]
                    },
                    {
                      "children": [
                        {
                          "className": "TplSizedBox",
                          "height": 10
                        }
                      ]
                    },
                    {
                      "children": [
                        {
                          "className": "TplText",
                          "text": "'Amount Due: '",
                          "style": {
                            "fontWeight": "'bold'"
                          },
                          "textAlign": "'right'"
                        },
                        {
                          "className": "TplText",
                          "text": "formatCurrency(data.total_price)"
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "className": "TplTable",
          "columnWidths": [
            {
              "className": "TplFixedColumnWidth",
              "width": 20
            },
            {
              "className": "TplFixedColumnWidth",
              "width": 200
            },
            {
              "className": "TplIntrinsicColumnWidth"
            },
            {
              "className": "TplIntrinsicColumnWidth"
            },
            {
              "className": "TplIntrinsicColumnWidth"
            },
            {
              "className": "TplIntrinsicColumnWidth"
            },
            {
              "className": "TplFixedColumnWidth",
              "width": 20
            }
          ],
          "children": [
            {
              "comment": "Header row repeats on every page",
              "repeat": true,
              "decoration": {
                "color": "'#31529b'"
              },
              "verticalAlignment": "'middle'",
              "children": [
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplContainer",
                  "padding": {
                    "top": 8,
                    "bottom": 8
                  },
                  "child": {
                    "className": "TplText",
                    "text": "'Description'",
                    "style": {
                      "fontWeight": "'bold'",
                      "color": "'#ffffff'"
                    },
                    "textAlign": "'left'"
                  }
                },
                {
                  "className": "TplText",
                  "text": "'Quantity'",
                  "style": {
                    "fontWeight": "'bold'",
                    "color": "'#ffffff'"
                  },
                  "textAlign": "'right'"
                },
                {
                  "className": "TplText",
                  "text": "' / Units'",
                  "style": {
                    "fontWeight": "'bold'",
                    "color": "'#ffffff'"
                  },
                  "textAlign": "'left'"
                },
                {
                  "className": "TplText",
                  "text": "'Unit Price'",
                  "style": {
                    "fontWeight": "'bold'",
                    "color": "'#ffffff'"
                  },
                  "textAlign": "'right'"
                },
                {
                  "className": "TplText",
                  "text": "'Ext. Price'",
                  "style": {
                    "fontWeight": "'bold'",
                    "color": "'#ffffff'"
                  },
                  "textAlign": "'right'"
                },
                {
                  "className": "TplSizedBox"
                }
              ]
            },
            {
              "comment": "Detail row repeats for each data.line_items",
              "array": "data.line_items",
              "verticalAlignment": "'middle'",
              "children": [
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplContainer",
                  "padding": {
                    "top": 8,
                    "bottom": 0
                  },
                  "child": {
                    "className": "TplColumn",
                    "crossAxisAlignment": "'start'",
                    "children": [
                      {
                        "className": "TplText",
                        "text": "data.item_description",
                        "style": {
                          "fontWeight": "'bold'"
                        },
                        "textAlign": "'left'"
                      },
                      {
                        "className": "TplText",
                        "text": "data.trade",
                        "textAlign": "'left'"
                      }
                    ]
                  }
                },
                {
                  "className": "TplText",
                  "text": "formatNumber('#,##0.###', data.quantity)",
                  "textAlign": "'right'"
                },
                {
                  "className": "TplText",
                  "text": "' / ' + data.uom_code"
                },
                {
                  "className": "TplText",
                  "text": "formatNumber('#,##0.00', data.unit_price)",
                  "textAlign": "'right'"
                },
                {
                  "className": "TplText",
                  "text": "formatNumber('#,##0.00', data.extended_price)",
                  "textAlign": "'right'"
                },
                {
                  "className": "TplSizedBox"
                }
              ]
            },
            {
              "comment": "Total rows start here",
              "children": [
                {
                  "className": "TplDivider",
                  "color": "'#bbbbbb'"
                },
                {
                  "className": "TplDivider",
                  "color": "'#bbbbbb'"
                },
                {
                  "className": "TplDivider",
                  "color": "'#bbbbbb'"
                },
                {
                  "className": "TplDivider",
                  "color": "'#bbbbbb'"
                },
                {
                  "className": "TplDivider",
                  "color": "'#bbbbbb'"
                },
                {
                  "className": "TplDivider",
                  "color": "'#bbbbbb'"
                },
                {
                  "className": "TplDivider",
                  "color": "'#bbbbbb'"
                }
              ]
            },
            {
              "verticalAlignment": "'middle'",
              "children": [
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplContainer",
                  "padding": {
                    "top": 8,
                    "bottom": 8
                  },
                  "child": {
                    "className": "TplText",
                    "text": "'Total:'",
                    "style": {
                      "fontWeight": "'bold'"
                    },
                    "textAlign": "'right'"
                  }
                },
                {
                  "className": "TplText",
                  "text": "formatCurrency(data.total_price)",
                  "textAlign": "'right'"
                },
                {
                  "className": "TplSizedBox"
                }
              ]
            },
            {
              "verticalAlignment": "'middle'",
              "children": [
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplContainer",
                  "padding": {
                    "top": 8,
                    "bottom": 8
                  },
                  "child": {
                    "className": "TplText",
                    "text": "data.tax_rate + ':'",
                    "style": {
                      "fontWeight": "'bold'"
                    },
                    "textAlign": "'right'"
                  }
                },
                {
                  "className": "TplText",
                  "text": "formatCurrency(data.tax_amount)",
                  "textAlign": "'right'"
                },
                {
                  "className": "TplSizedBox"
                }
              ]
            },
            {
              "children": [
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplDivider",
                  "color": "'#bbbbbb'"
                },
                {
                  "className": "TplDivider",
                  "color": "'#bbbbbb'"
                },
                {
                  "className": "TplSizedBox"
                }
              ]
            },
            {
              "verticalAlignment": "'middle'",
              "children": [
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplSizedBox"
                },
                {
                  "className": "TplContainer",
                  "padding": {
                    "top": 8,
                    "bottom": 8
                  },
                  "child": {
                    "className": "TplText",
                    "text": "'Amount Due:'",
                    "style": {
                      "fontWeight": "'bold'"
                    },
                    "textAlign": "'right'"
                  }
                },
                {
                  "className": "TplText",
                  "text": "formatCurrency(data.total_price)",
                  "style": {
                    "fontWeight": "'bold'"
                  },
                  "textAlign": "'right'"
                },
                {
                  "className": "TplSizedBox"
                }
              ]
            }
          ]
        },
        {
          "className": "TplContainer",
          "padding": {
            "left": 20,
            "right": 20,
            "top": 10
          },
          "child": {
            "comment": "This row forces the column not to split between pages",
            "className": "TplRow",
            "children": [
              {
                "className": "TplExpanded",
                "child": {
                  "className": "TplColumn",
                  "mainAxisAlignment": "'start'",
                  "crossAxisAlignment": "'start'",
                  "children": [
                    {
                      "className": "TplText",
                      "text": "'Notes / Terms'",
                      "style": {
                        "fontWeight": "'bold'"
                      }
                    },
                    {
                      "className": "TplSizedBox",
                      "height": 4
                    },
                    {
                      "className": "TplText",
                      "text": "data.notes + ' \nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Donec enim diam vulputate ut pharetra sit amet aliquam. Et magnis dis parturient montes nascetur ridiculus mus mauris vitae. Elit duis tristique sollicitudin nibh sit. Purus faucibus ornare suspendisse sed. Aliquam purus sit amet luctus venenatis lectus magna. Enim diam vulputate ut pharetra. Elementum tempus egestas sed sed risus pretium. Adipiscing diam donec adipiscing tristique. Sed tempus urna et pharetra pharetra massa massa ultricies mi. Senectus et netus et malesuada. Cursus vitae congue mauris rhoncus aenean vel elit scelerisque. Neque sodales ut etiam sit amet nisl purus in mollis. Lacus laoreet non curabitur gravida arcu ac tortor dignissim convallis. Et odio pellentesque diam volutpat. Mauris vitae ultricies leo integer malesuada nunc. Rutrum quisque non tellus orci ac. Urna nec tincidunt praesent semper feugiat nibh sed pulvinar proin. Lectus nulla at volutpat diam ut.'",
                      "maxLines": 30,
                      "style": {
                        "fontSize": 8
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  ]
}
